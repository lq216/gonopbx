---
import Layout from '../../layouts/Layout.astro';
---

<Layout title="Release Notes - GonoPBX" description="All versions and changes of GonoPBX at a glance. Changelog with new features, bug fixes, and improvements." lang="en">

  <!-- Navigation -->
  <nav class="nav">
    <div class="container">
      <a href="/en/" class="nav-logo">
        <img src="/logo.png" alt="GonoPBX Logo" />
      </a>
      <button class="nav-toggle" id="navToggle" aria-label="Menu">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M3 12h18M3 6h18M3 18h18" />
        </svg>
      </button>
      <ul class="nav-links" id="navLinks">
        <li><a href="/en/#features">Features</a></li>
        <li><a href="/en/#screenshots">Screenshots</a></li>
        <li><a href="/en/#techstack">Technology</a></li>
        <li><a href="/en/release-notes">Release Notes</a></li>
        <li><a href="/en/blog/">Blog</a></li>
        <li><a href="/en/kontakt">Contact</a></li>
        <li><a href="/en/unterstuetzen">Support</a></li>
        <li class="nav-lang">
          <a href="/release-notes" class="lang-link">DE</a>
          <span class="lang-sep">|</span>
          <a href="/en/release-notes" class="lang-link active">EN</a>
        </li>
        <li><a href="https://github.com/ankaios76/gonopbx" class="nav-cta">GitHub</a></li>
      </ul>
    </div>
  </nav>

  <!-- Release Notes Content -->
  <section class="release-notes">
    <div class="container">
      <div class="section-header">
        <h1>Release Notes</h1>
        <p>All changes and improvements in GonoPBX at a glance.</p>
      </div>

      <!-- v2.1.0 -->
      <div class="release">
        <div class="release-header">
          <div class="release-version">v2.1.0</div>
          <div class="release-date">February 18, 2026</div>
        </div>
        <div class="release-body">
          <h3>New Features</h3>
          <ul>
            <li>
              <strong>Telekom All-IP residential line</strong><br/>
              New provider profile for Telekom residential connections (MagentaZuhause).
              Supports <code>P-Preferred-Identity</code> header, TCP transport, and
              <code>tel.t-online.de</code> as registrar. New “From-User / Line Number” field
              for the line number in E.164 format, separate from the auth username (access number).
            </li>
          </ul>
        </div>
      </div>

      <!-- v2.0.0 -->
      <div class="release">
        <div class="release-header">
          <div class="release-version">v2.0.0</div>
          <div class="release-date">February 13, 2026</div>
        </div>
        <div class="release-body">
          <h3>New Features</h3>
          <ul>
            <li>
              <strong>Phonebook</strong><br/>
              Global and per-extension phonebook with CSV import/export.
            </li>
            <li>
              <strong>BLF &amp; Pickup Groups</strong><br/>
              BLF hints and pickup groups configurable per extension.
            </li>
            <li>
              <strong>Ring Groups</strong><br/>
              Groups with strategies and inbound DID assignment.
            </li>
            <li>
              <strong>IVR Improvements</strong><br/>
              Prompt upload with conversion/validation, retries, and inbound DID mapping.
            </li>
          </ul>
          <h3>UI Updates</h3>
          <ul>
            <li>SIP Debug moved into Settings</li>
            <li>Audio tab renamed to Audio Codecs</li>
          </ul>
        </div>
      </div>

      <!-- v1.7.0 -->
      <div class="release">
        <div class="release-header">
          <div class="release-version">v1.7.0</div>
          <div class="release-date">February 13, 2026</div>
        </div>
        <div class="release-body">
          <h3>New Features</h3>
          <ul>
            <li>
              <strong>SIP Debug</strong><br/>
              New page for live SIP messages directly in the web UI. Enable capture via toggle,
              show all inbound and outbound SIP messages grouped by Call-ID. Expandable raw SIP text
              with direction arrows and color-coded methods/status codes. Based on Asterisk
              <code>res_pjsip_history</code> with 3‑second polling. Messages are kept for up to 2 hours
              (hard cap: 10,000). Admin-only.
            </li>
          </ul>
        </div>
      </div>

      <!-- v1.6.0 -->
      <div class="release">
        <div class="release-header">
          <div class="release-version">v1.6.0</div>
          <div class="release-date">February 13, 2026</div>
        </div>
        <div class="release-body">
          <h3>New Features</h3>
          <ul>
            <li>
              <strong>Selectable outbound caller ID</strong><br/>
              Extensions with multiple assigned numbers can now choose which DID is sent as caller ID
              for outbound calls via dropdown. Default remains the first assigned number (backward compatible).
            </li>
            <li>
              <strong>P-Asserted-Identity (PAI) header</strong><br/>
              Optional PAI header configurable per extension, e.g., the main number of a block.
              The domain is automatically taken from the trunk.
            </li>
            <li>
              <strong>Home Assistant integration</strong><br/>
              API key authentication, MQTT publisher for call events, and click-to-call via the originate endpoint.
              MQTT broker and API key configurable directly in the web UI.
            </li>
          </ul>
          <h3>Improvements</h3>
          <ul>
            <li>Website redesign with updated screenshots</li>
            <li>If a route set as outbound CID is deleted, it is automatically reset to default</li>
          </ul>
        </div>
      </div>

      <!-- v1.5.3 -->
      <div class="release">
        <div class="release-header">
          <div class="release-version">v1.5.3</div>
          <div class="release-date">February 12, 2026</div>
        </div>
        <div class="release-body">
          <h3>Bug Fixes</h3>
          <ul>
            <li>
              <strong>Update mechanism fixed</strong><br/>
              The frontend was not rebuilt during web updates because the rebuild process in the backend container failed.
              Updates now run through a separate helper container that reliably restarts all services.
            </li>
          </ul>
        </div>
      </div>

      <!-- v1.5.2 -->
      <div class="release">
        <div class="release-header">
          <div class="release-version">v1.5.2</div>
          <div class="release-date">February 12, 2026</div>
        </div>
        <div class="release-body">
          <h3>New Features</h3>
          <ul>
            <li>
              <strong>Dark Mode</strong><br/>
              Full dark mode for all pages and components. Automatic OS preference detection with manual toggle
              (sun/moon icon in the header). Selection is stored in the browser.
            </li>
          </ul>
          <h3>Improvements</h3>
          <ul>
            <li>Provider logos in trunk cards are now round with a white background</li>
            <li>“Made with ♥ in Bremen” added to footer</li>
          </ul>
        </div>
      </div>

      <!-- v1.5.1 -->
      <div class="release">
        <div class="release-header">
          <div class="release-version">v1.5.1</div>
          <div class="release-date">February 12, 2026</div>
        </div>
        <div class="release-body">
          <h3>Improvements</h3>
          <ul>
            <li>
              <strong>Dashboard redesign</strong><br/>
              Personal greeting (Moin/Hello/Good evening) with username, weekday, and date.
              System health card removed.
            </li>
            <li>
              <strong>Version display in the dashboard</strong><br/>
              Backend delivers the current version via the dashboard API. Shown under the GonoPBX status instead of in the footer.
            </li>
            <li><strong>dus.net server corrected</strong> – SIP server changed from <code>sip.dus.net</code> to <code>proxy.dus.net</code></li>
          </ul>
        </div>
      </div>

      <!-- v1.5.0 -->
      <div class="release">
        <div class="release-header">
          <div class="release-version">v1.5.0</div>
          <div class="release-date">February 11, 2026</div>
        </div>
        <div class="release-body">
          <h3>New Features</h3>
          <ul>
            <li>
              <strong>User profiles</strong><br/>
              Full name, avatar upload, and extension assignment per user.
            </li>
            <li>
              <strong>Multi-DID routing</strong><br/>
              Multiple inbound numbers per extension configurable.
            </li>
            <li>
              <strong>Welcome email</strong><br/>
              Automatically sends credentials to new users.
            </li>
            <li>
              <strong>Self-service password change</strong><br/>
              Users can change their own password.
            </li>
            <li>
              <strong>FAQ page</strong><br/>
              Frequently asked questions built into the web interface.
            </li>
            <li>
              <strong>Navigation rework</strong><br/>
              Extensions and trunks grouped under Settings for a cleaner structure.
            </li>
            <li>
              <strong>One-click update</strong><br/>
              Install system updates directly from the web UI.
            </li>
          </ul>
          <h3>Bug Fixes</h3>
          <ul>
            <li>User creation fixed (unique email constraint removed)</li>
          </ul>
        </div>
      </div>

      <!-- v1.4.0 -->
      <div class="release">
        <div class="release-header">
          <div class="release-version">v1.4.0</div>
          <div class="release-date">February 11, 2026</div>
        </div>
        <div class="release-body">
          <h3>New Features</h3>
          <ul>
            <li>
              <strong>SIP password strength check</strong><br/>
              Real-time strength indicator when creating/editing extensions (colored bar red/yellow/green).
              Button to generate secure 16-character passwords. Overview of weak passwords in the Security tab.
            </li>
            <li>
              <strong>Audit log</strong><br/>
              Logging of all administrative actions (create, edit, delete extensions, trunks, routes, forwarding, users and settings).
              New audit log tab with color-coded table and pagination.
            </li>
            <li>
              <strong>Fail2Ban status</strong><br/>
              Live Fail2Ban status in the Security tab. Shows active bans, jails, and a table of recently banned IPs.
            </li>
          </ul>
        </div>
      </div>

      <!-- v1.3.0 -->
      <div class="release">
        <div class="release-header">
          <div class="release-version">v1.3.0</div>
          <div class="release-date">February 11, 2026</div>
        </div>
        <div class="release-body">
          <h3>New Features</h3>
          <ul>
            <li>
              <strong>IP whitelist for SIP registration</strong><br/>
              Restricts registration to specific IP addresses or CIDR networks. Configurable via the admin settings page.
            </li>
            <li>
              <strong>Music on Hold</strong><br/>
              Preinstalled hold music in g722 format is provided automatically.
            </li>
            <li>
              <strong>HTML voicemail emails</strong><br/>
              Professionally formatted HTML emails for voicemail notifications.
            </li>
            <li>
              <strong>Ring duration per extension</strong><br/>
              Individual ring timeout (5–120 seconds) before voicemail answers.
            </li>
            <li>
              <strong>German voice prompts</strong><br/>
              Asterisk prompt package (de) is installed automatically.
            </li>
          </ul>
          <h3>Improvements</h3>
          <ul>
            <li>External IP auto-detection via multiple services</li>
            <li>SMTP port 465 support (implicit TLS)</li>
            <li>Dialplan: device-state check before dial, early answer for inbound trunk calls</li>
            <li>DID extraction from SIP To header as fallback</li>
            <li>Duplicate identify protection for multi-trunk setups</li>
            <li>Installer: Docker permissions are checked before start</li>
          </ul>
        </div>
      </div>

      <!-- v1.2.0 -->
      <div class="release">
        <div class="release-header">
          <div class="release-version">v1.2.0</div>
          <div class="release-date">February 10, 2026</div>
        </div>
        <div class="release-body">
          <h3>New Features</h3>
          <ul>
            <li>
              <strong>Codec management (global &amp; per extension)</strong><br/>
              Audio codecs are no longer hardcoded. Global codecs can be configured in Settings
              (ulaw, alaw, g722, opus, g729, gsm). Individual extensions can override the global setting.
            </li>
          </ul>
          <h3>Improvements</h3>
          <ul>
            <li>
              <strong>Upgrade to Asterisk 20 LTS</strong><br/>
              Migration from Asterisk 18 to Asterisk 20 (Long-Term Support). Enables ARM64/Raspberry Pi support
              and brings current security updates.
            </li>
            <li>PJSIP configuration is regenerated on codec changes and Asterisk is reloaded</li>
            <li>New codec panel in the extension detail page with toggle between global and individual</li>
            <li>New codec card in Settings with checkbox grid for all available codecs</li>
          </ul>
        </div>
      </div>

      <!-- v1.1.0 -->
      <div class="release">
        <div class="release-header">
          <div class="release-version">v1.1.0</div>
          <div class="release-date">February 10, 2026</div>
        </div>
        <div class="release-body">
          <h3>New Features</h3>
          <ul>
            <li>
              <strong>SMTP email configuration</strong><br/>
              Admin page to configure SMTP for voicemail notifications. Includes a test email function.
            </li>
            <li>
              <strong>Voicemail mailbox management</strong><br/>
              PIN, email address, and activation per extension configurable. Automatic mailbox creation for new peers.
            </li>
            <li>
              <strong>Custom SIP trunk provider</strong><br/>
              In addition to Plusnet IPfonie, any SIP trunk provider can be configured with manual SIP server entry.
            </li>
          </ul>
          <h3>Improvements</h3>
          <ul>
            <li>Asterisk container with its own Dockerfile (msmtp for email sending)</li>
            <li>Docker Compose hardened: backend, frontend, and AMI only reachable via localhost</li>
            <li>PostgreSQL port no longer exposed externally</li>
            <li>API base URL uses <code>window.location.host</code> (reverse-proxy compatible)</li>
            <li>PJSIP identify match is dynamic instead of hardcoded IP ranges</li>
          </ul>
        </div>
      </div>

      <!-- v1.0.0 -->
      <div class="release">
        <div class="release-header">
          <div class="release-version">v1.0.0</div>
          <div class="release-date">February 9, 2026</div>
        </div>
        <div class="release-body">
          <h3>Initial Release</h3>
          <ul>
            <li>Dashboard with live status (WebSocket)</li>
            <li>SIP peer management (CRUD)</li>
            <li>SIP trunk management (Plusnet IPfonie Basic/Extended/Connect)</li>
            <li>Inbound routing (DID-based)</li>
            <li>Call forwarding (Immediate, Busy, No Answer)</li>
            <li>Call detail records (CDR) with filters and statistics</li>
            <li>JWT authentication with admin/user roles</li>
            <li>User management</li>
            <li>Interactive installation script</li>
            <li>Docker Compose deployment</li>
          </ul>
        </div>
      </div>

    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <ul class="footer-links">
        <li><a href="https://github.com/ankaios76/gonopbx">GitHub</a></li>
        <li><a href="https://demo.gonopbx.de">Live Demo</a></li>
        <li><a href="/en/unterstuetzen">Support</a></li>
        <li><a href="/impressum">Imprint</a></li>
        <li><a href="/datenschutz">Privacy</a></li>
      </ul>
      <p>&copy; 2026 Norbert Hengsteler. All rights reserved.</p>
    </div>
  </footer>

  <!-- Mobile nav toggle script -->
  <script>
    document.getElementById('navToggle')?.addEventListener('click', () => {
      document.getElementById('navLinks')?.classList.toggle('open');
    });
    document.querySelectorAll('.nav-links a').forEach(link => {
      link.addEventListener('click', () => {
        document.getElementById('navLinks')?.classList.remove('open');
      });
    });
  </script>

</Layout>
